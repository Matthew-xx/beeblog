<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>文章 - 我的博客 </title>
    <link rel="shortcut icon" href="../static/img/favicon.png">
    <link rel="stylesheet" type="text/css" href="../static/css/bootstrap.min.css">
</head>

<body>
<div class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <a class="navbar-brand" href="/home">我的博客</a>
        <ul class="nav navbar-nav">  <!--class属性参照boostrap网页-->
            <li><a href="/home">首页</a></li>  <!--active激活的-->
            <li><a href="/category">分类</a></li>
            <li class="active"><a href="/topic">文章</a></li>
        </ul>
    </div>

    <div class="pull-right">
        <ul class="nav navbar-nav">
            {{if .IsLogin}}  <!--判断是否登录-->
            <li><a href="/login?exit=true">退出</a></li>
            {{else}}
                <li><a href="/login">管理员登录</a></li>
            {{end}}
        </ul>
    </div>

    <div class="container">
        <h1>文章列表</h1>
        <a href="/topic/add" class="btn btn-default">添加文章</a>
        <table class="table table-striped">
            <thead>
            <tr>
                <th>#</th>
                <th>文章名称</th>
                <th>最后更新</th>
                <th>浏览</th>
                <th>回复数</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody>
            {{range .Topics}}
                <tr>
                    <th>{{.Id}}</th>
                    <th>{{.Title}}</th>
                    <th>{{.Updated}}</th>
                    <th>{{.Views}}</th>
                    <th>{{.ReplyCount}}</th>
                    <th><a href="/topic/delete?tid={{.Id}}">删除</a></th>
                </tr>
            {{end}}
            </tbody>
        </table>
    </div>
</div>

<script type="text/javascript" src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript" src="../static/js/bootstrap.min.js"></script>
</body>
</html>